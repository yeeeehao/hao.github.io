{"version":3,"file":"component---src-pages-wines-index-js-3f3eb7e815262783fcb0.js","mappings":"qQAyBA,MAtBA,SAAkBA,GAChB,MAAM,OAAEC,EAAM,MAAEC,EAAK,KAAEC,EAAI,MAAEC,EAAK,YAAEC,GAAgBL,EACpD,OACE,gBAACM,EAAA,EAAI,CAACC,MAAO,CAAEC,MAAO,QAASC,OAAQ,SACrC,gBAACH,EAAA,MAAQ,CACPI,QAAQ,MACRC,IAAKT,EACLK,MAAO,CAAEC,MAAO,OAAQI,OAAQ,QAASC,UAAW,gBAEtD,gBAACP,EAAA,OAAS,KACR,gBAACA,EAAA,QAAU,KACRL,EAAO,MAAIG,EAAM,SAGpB,gBAACU,EAAA,EAAM,CAACJ,QAAQ,UAAUK,QAASV,GAAa,gBAMxD,E,QCiGA,MAhHA,WACE,MAAOF,EAAMa,IAAWC,EAAAA,EAAAA,GAAgB,OAAQ,IAEhD,IAAKC,EAAYC,GAAiBC,EAAAA,SAAe,KAC5CC,EAASC,GAAcF,EAAAA,SAAe,SAEtCG,EAAMC,IAAWP,EAAAA,EAAAA,GAAgB,OAAQ,IAE9C,SAASQ,EAAUtB,GAEjBoB,EAAKG,KAAKvB,GACVwB,QAAQC,MAAML,GACdC,GAAQ,OAAID,GACd,CAyBA,OAvBAH,EAAAA,WAAgB,KACd,IAAIS,EAAQ,GACZC,MAAM,oCAAoCT,GACvCU,MAAKC,GAAOA,EAAIC,SAChBF,MAAKG,IACJ,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAChCN,EAAMH,KACJ,gBAAC,EAAQ,CACPW,IAAKF,EACLjC,MAAOgC,EAAMC,GAAGjC,MAChBD,OAAQiC,EAAMC,GAAGlC,OACjBE,KAAM+B,EAAMC,GAAGhC,KACfC,MA7BK,IA8BLC,YAAa,KACXoB,EAAUS,EAAMC,GAAG,KAK3BhB,EAAcU,EAAM,GACpB,GACH,CAACR,IAGF,gBAACiB,EAAA,EAAS,KACR,0BAAI,SACJ,gBAACC,EAAA,EAAW,CAAC,aAAW,iBACtB,gBAACzB,EAAA,EAAM,CACLJ,QAAQ,YACRK,QAAS,KACPO,EAAW,OAAO,GAErB,QAGD,gBAACR,EAAA,EAAM,CACLJ,QAAQ,YACRK,QAAS,KACPO,EAAW,SAAS,GAEvB,UAGD,gBAACR,EAAA,EAAM,CACLJ,QAAQ,YACRK,QAAS,KACPO,EAAW,YAAY,GAE1B,aAGD,gBAACR,EAAA,EAAM,CACLJ,QAAQ,YACRK,QAAS,KACPO,EAAW,OAAO,GAErB,QAGD,gBAACR,EAAA,EAAM,CACLJ,QAAQ,YACRK,QAAS,KACPO,EAAW,UAAU,GAExB,WAGD,gBAACR,EAAA,EAAM,CACLJ,QAAQ,YACRK,QAAS,KACPO,EAAW,OAAO,GAErB,SAIH,gBAACkB,EAAA,EAAG,KACF,gBAACC,EAAA,EAAG,KACF,gBAACD,EAAA,EAAG,KAAEtB,IAER,gBAACuB,EAAA,EAAG,CAACC,GAAI,GACP,0BAAI,QAAMvC,GACToB,EAAKoB,KAAI,CAACC,EAAMT,IAEb,gBAACK,EAAA,EAAG,CAACH,IAAKF,GACR,gBAACM,EAAA,EAAG,KAAEG,EAAK3C,QACX,gBAACwC,EAAA,EAAG,KAvGD,QA2GT,gBAACD,EAAA,EAAG,KAAC,UA3GI,IA2GIjB,EAAKa,OAAoB,WAKhD,C","sources":["webpack://gatsby-starter-default/./src/components/WineCard.js","webpack://gatsby-starter-default/./src/pages/wines/index.js"],"sourcesContent":["import * as React from \"react\"\r\nimport { Card, Button } from \"react-bootstrap\"\r\n\r\nfunction WineCard(props) {\r\n  const { winery, image, wine, price, handleClick } = props\r\n  return (\r\n    <Card style={{ width: \"18rem\", margin: \"1rem\" }}>\r\n      <Card.Img\r\n        variant=\"top\"\r\n        src={image}\r\n        style={{ width: \"100%\", height: \"20rem\", objectFit: \"scale-down\" }}\r\n      />\r\n      <Card.Body>\r\n        <Card.Title>\r\n          {winery} - {price} Baht\r\n        </Card.Title>\r\n        {/* <Card.Text>description}</Card.Text> */}\r\n        <Button variant=\"primary\" onClick={handleClick}>\r\n          Add to Cart\r\n        </Button>\r\n      </Card.Body>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default WineCard\r\n","import * as React from \"react\"\r\nimport \"bootstrap/dist/css/bootstrap.min.css\"\r\nimport { Container, ButtonGroup, Button, Row, Col } from \"react-bootstrap\"\r\nimport WineCard from \"../../components/WineCard\"\r\nimport { useLocalStorage } from \"react-use\"\r\n\r\nconst dummyPrice = 999\r\n\r\nfunction WinePage() {\r\n  const [wine, setWine] = useLocalStorage(\"wine\", \"\")\r\n\r\n  let [wineTitles, setWineTitles] = React.useState([])\r\n  let [subMenu, setSubMenu] = React.useState(\"reds\")\r\n  // let [cart, setCart] = React.useState([])\r\n  let [cart, setCart] = useLocalStorage(\"cart\", [])\r\n\r\n  function addToCard(wine) {\r\n    // console.debug(wine)\r\n    cart.push(wine)\r\n    console.table(cart)\r\n    setCart([...cart])\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    let items = []\r\n    fetch(`https://api.sampleapis.com/wines/${subMenu}`)\r\n      .then(res => res.json())\r\n      .then(wines => {\r\n        for (let i = 0; i < wines.length; i++) {\r\n          items.push(\r\n            <WineCard\r\n              key={i}\r\n              image={wines[i].image}\r\n              winery={wines[i].winery}\r\n              wine={wines[i].wine}\r\n              price={dummyPrice}\r\n              handleClick={() => {\r\n                addToCard(wines[i])\r\n              }}\r\n            />\r\n          )\r\n        }\r\n        setWineTitles(items)\r\n      })\r\n  }, [subMenu])\r\n\r\n  return (\r\n    <Container>\r\n      <h1>Wines</h1>\r\n      <ButtonGroup aria-label=\"Basic example\">\r\n        <Button\r\n          variant=\"secondary\"\r\n          onClick={() => {\r\n            setSubMenu(\"reds\")\r\n          }}\r\n        >\r\n          Reds\r\n        </Button>\r\n        <Button\r\n          variant=\"secondary\"\r\n          onClick={() => {\r\n            setSubMenu(\"whites\")\r\n          }}\r\n        >\r\n          Whites\r\n        </Button>\r\n        <Button\r\n          variant=\"secondary\"\r\n          onClick={() => {\r\n            setSubMenu(\"sparkling\")\r\n          }}\r\n        >\r\n          Sparkling\r\n        </Button>\r\n        <Button\r\n          variant=\"secondary\"\r\n          onClick={() => {\r\n            setSubMenu(\"rose\")\r\n          }}\r\n        >\r\n          Rose\r\n        </Button>\r\n        <Button\r\n          variant=\"secondary\"\r\n          onClick={() => {\r\n            setSubMenu(\"dessert\")\r\n          }}\r\n        >\r\n          Dessert\r\n        </Button>\r\n        <Button\r\n          variant=\"secondary\"\r\n          onClick={() => {\r\n            setSubMenu(\"port\")\r\n          }}\r\n        >\r\n          Port\r\n        </Button>\r\n      </ButtonGroup>\r\n      <Row>\r\n        <Col>\r\n          <Row>{wineTitles}</Row>\r\n        </Col>\r\n        <Col sm={3}>\r\n          <h2>Cart {wine}</h2>\r\n          {cart.map((item, i) => {\r\n            return (\r\n              <Row key={i}>\r\n                <Col>{item.winery}</Col>\r\n                <Col>{dummyPrice}</Col>\r\n              </Row>\r\n            )\r\n          })}\r\n          <Row>Total: {cart.length * dummyPrice} Baht</Row>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default WinePage\r\n"],"names":["props","winery","image","wine","price","handleClick","Card","style","width","margin","variant","src","height","objectFit","Button","onClick","setWine","useLocalStorage","wineTitles","setWineTitles","React","subMenu","setSubMenu","cart","setCart","addToCard","push","console","table","items","fetch","then","res","json","wines","i","length","key","Container","ButtonGroup","Row","Col","sm","map","item"],"sourceRoot":""}